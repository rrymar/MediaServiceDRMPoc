@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
    ViewData["Token"] =  ContentKey.GetToken("ruslan", "insight");
}

<!--*****START OF Azure Media Player Scripts*****-->
<!--Note: DO NOT USE the "latest" folder in production. Replace "latest" with a version number like "1.0.0"-->
<!--EX:<script src="//amp.azure.net/libs/amp/1.0.0/azuremediaplayer.min.js"></script>-->
<!--Azure Media Player versions can be queried from //aka.ms/ampchangelog-->
<link href="//amp.azure.net/libs/amp/latest/skins/amp-default/azuremediaplayer.min.css" rel="stylesheet">
<script src="//amp.azure.net/libs/amp/latest/azuremediaplayer.min.js"></script>
<!--*****END OF Azure Media Player Scripts*****-->
<style>
        .amp-content-title {
            display: none;
        }
</style>


<video id="azuremediaplayer" class="azuremediaplayer amp-default-skin amp-big-play-centered" tabindex="0"> </video>
<script>
        var myOptions = {
            autoplay: true,
            controls: true,
            width: "640",
            height: "400",
        };
        var myPlayer = amp("azuremediaplayer", myOptions);
        myPlayer.src([{ src: "https://mediaservicespoc123-euwe.streaming.media.azure.net/37a6ff26-55bf-4dca-9d7a-6d78af55b7e6/IMG_2027.ism/manifest(format=mpd-time-cmaf,encryption=cenc)", type: "application/dash+xml", 
        streamingFormats: ['DASH'],
        techOrder: ["azureHtml5JS", "flashSS", "html5FairPlayHLS", "silverlightSS", "html5"],
        protectionInfo: [
            { 
                type: "PlayReady", 
                authenticationToken: "Bearer=@ViewData["Token"]"
            }] }, ]);
    </script>